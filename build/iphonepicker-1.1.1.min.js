/* 
 *  iPhonePicker v1.1.1 (c) 2015-16 Garrett Morris
 *
 *  based on: https://marinovdh.wordpress.com/2011/09/14/use-the-iphone-uipickerview-control-as-a-selectbox-on-your-website-with-jquery/
 *  Dual licensed under the MIT or GPL Version 2 licenses.
 *  
 *  Original derived control:
 *
 *  Overscroll v1.4.7
 *  A jQuery Plugin that emulates the iPhone scrolling experience in a browser.
 *  http://azoffdesign.com/overscroll
 *
 *  Copyright 2011, Jonathan Azoff
 *  Dual licensed under the MIT or GPL Version 2 licenses.
 *  http://jquery.org/license
 *
 *  For API documentation, see the README file
 *  https://github.com/azoff/Overscroll/blob/master/README.md
 *
 *  Date: Friday, July 15th 2011
 *
 *  Also used Control (see below this page): jQuery.ScrollTo
 *  Copyright (c) 2007-2009 Ariel Flesler - aflesler(at)gmail(dot)com | http://flesler.blogspot.com
 *  Dual licensed under MIT and GPL.
 *  Date: 5/25/2009
 *
 */
var ITEM_OFFSET=parseInt(37);(function(e,t,n,r){"use strict";r=n.fn.iPhonePickerRefresh=function(){return this.each(function(){this.tagName=="SELECT"&&r.refresh(n(this))})},n.extend(r,{refresh:function(e){var r=e[0].id,i=e[0].options.selectedIndex;if(n("#uipv_main_"+r)[0]!==undefined&&i>0){var s="uipv_content_"+r,o=t.round(i*ITEM_OFFSET);n("#"+s).scrollTo(o)}}})})(window,Math,jQuery),function(e,t,n){"use strict";n=t.fn.iPhonePicker=function(e){return e=e||{},this.each(function(){this.tagName=="SELECT"&&n.init(t(this),e)})},t.extend(n,{init:function(e,r){var i=["iphonepicker.js","iphonepicker-1.1.1.js","iphonepicker-1.1.1.min.js"],s=function(){function u(e){return e=e.replace(/^https?:\/\/[^\/]+((?:\/[^\/]*)*)/,"$1"),e=e.replace("./",""),e=e.split("/"),e.pop(),e.length>0?e="/"+e.join("/")+"/":e="/",e=e.replace("//","/"),e}if(document.currentScript)n=document.currentScript.src;else{var e=t("script"),n="",r;e:for(r=0;r<e.length;r++){var s=e.eq(r).attr("src");if(typeof s=="string")for(var o=0;o<i.length;o++)if(s.indexOf(i[o])!==-1){n=s;break e}}}return u(n)}();r=t.extend({width:"",imgRoot:s},r);var u={};u.target=e,u.options=r,e.css({display:"none"}),t("#uipv_main_"+e[0].id).length===0&&n.addNiftyControl(u)},stripSizePostFix:function(e){return e.length>2&&e.substring(e.length-2)=="px"&&(e=e.substring(0,e.length-2)),parseInt(e)},addNiftyControl:function(e){var r=e.target[0].id,i=t("#"+r),s="uipv_main_"+r,u="uipv_content_"+r,a="uipv_ul_"+r;t("<div/>",{id:s}).insertAfter(i),t("<div/>",{id:u}).appendTo("#"+s),t("<div/>",{id:"uipv_left_"+r}).appendTo("#"+s),t("<div/>",{id:"uipv_top_"+r}).appendTo("#"+s),t("<div/>",{id:"uipv_right_"+r}).appendTo("#"+s),t("<div/>",{id:"uipv_bottom_"+r}).appendTo("#"+s),t("<div/>",{id:"uipv_bar_"+r}).appendTo("#"+s);var f=e.options.width===""?n.stripSizePostFix(t("#"+r).css("width")):n.stripSizePostFix(e.options.width);f>=20&&f<=2e3||(f=80);var l=t("#"+r).attr("class");l&&l!==""&&t("#"+s).attr("class",l),t("#"+s).css({width:f+"px",height:"160px",position:"relative","float":"left"}),t("#"+u).css({width:f-8+"px",height:"152px","font-family":"Arial","font-weight":"bold","font-size":"11px","z-index":"13",position:"absolute","float":"left",margin:"2px 4px 2px 4px",overflow:"hidden","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-o-user-select":"none","user-select":"none"}),t("#uipv_left_"+r).css({width:"4px",height:"160px",background:"transparent url("+e.options.imgRoot+"uipv_left_bg.png) no-repeat top","float":"left",position:"absolute",margin:"0px","z-index":"12"}),t("#uipv_top_"+r).css({width:f-8+"px",height:"80px",background:"transparent url("+e.options.imgRoot+"uipv_top_bg.png) repeat-x top","float":"left",position:"absolute","margin-left":"4px","z-index":"12"}),t("#uipv_bottom_"+r).css({width:f-8+"px",height:"80px",background:"transparent url("+e.options.imgRoot+"uipv_bottom_bg.png) repeat-x top","float":"left",position:"absolute","margin-top":"80px","margin-left":"4px","z-index":"12"}),t("#uipv_right_"+r).css({width:"4px",height:"160px",background:"transparent url("+e.options.imgRoot+"uipv_right_bg.png) no-repeat top","float":"right",position:"absolute","margin-left":f-4+"px","z-index":"12"}),t("#uipv_bar_"+r).css({width:f-8+"px",height:"45px",background:"transparent url("+e.options.imgRoot+"uipv_bar_bg.png) repeat-x top","float":"left",position:"absolute","margin-top":"58px","margin-left":"4px","z-index":"12"}),t("<div/>",{id:"uipv_contenthead_"+r}).appendTo("#"+u),t("#uipv_contenthead_"+r).css({height:"61px",width:f-8+"px"}),t("<ul/>",{id:a}).appendTo("#"+u),t("#"+a).css({margin:"0px",padding:"0px"}),t("<div/>",{id:"uipv_contentfoot_"+r}).appendTo("#"+u),t("#uipv_contentfoot_"+r).css({height:"54px",width:f-8+"px"}),n.selectable(t("#"+u)[0],!1);if(e.target[0].options.length>0){for(var c=0;c<e.target[0].options.length;c++){var h=e.target[0].options[c];t("<li/>",{id:a+"_"+h.value,value:h.value,text:h.text}).appendTo("#"+a)}t("#"+a+" > li").css({height:"37px","line-height":"37px","text-align":"center",display:"block",padding:"0px",margin:"0px"}),t("#"+u).iPhonePickerOverscroll({selectedIndex:e.target[0].options.selectedIndex,parentId:r,itemCount:e.target[0].options.length})}},setStyle:function(e,t,n){t=t.replace(/-(\w)/g,function(e,t){return t.toUpperCase()}),e.style[t]&&(e.style[t]=n)},selectable:function(e,t){n.setStyle(e,"user-select",t?"":"none"),n.setStyle(e,"-moz-user-select",t?"":"none"),n.setStyle(e,"-khtml-user-select",t?"":"none"),e.onselectstart=t?null:function(){return!1},e.setAttribute("unselectable",t?"":"on",0)}})}(window,jQuery),function(e,t,n,r){"use strict";r=n.fn.iPhonePickerOverscroll=function(e){return e=e||{},this.each(function(){r.init(n(this),e)})},n.fn.removeIPhonePickerOverscroll=function(e){return this.each(function(){var e=n(this).data(r.removerKey);n.isFunction(e)&&e()})},n.extend(r,{events:{wheel:"mousewheel DOMMouseScroll",start:"select mousedown touchstart",drag:"mousemove touchmove",end:"mouseup mouseleave touchend",ignored:"dragstart drag",click:"click"},div:"<div/>",removerKey:"overscroll-remover",data:{},constants:{driftFrequency:40,driftSequences:22,driftDecay:1.25,driftTimeout:100,timeout:400,captureThreshold:3,wheelDelta:37,scrollDelta:25,thumbThickness:6,thumbOpacity:.7,topOffset:62,textSize:11},checkIosDevice:function(){return r.isIOS===undefined&&(r.isIOS=/iP((hone)|(ad)|(od))/.test(navigator.platform)),r.isIOS},init:function(e,i){r.data={sizing:r.getSizing(e)},i=n.extend({selectedIndex:0,parentId:"",itemCount:0,showThumbs:!1,wheelDirection:"vertical",cursor:"pointer",wheelDelta:r.constants.wheelDelta,scrollDelta:r.constants.scrollDelta,direction:"multi",cancelOn:"",reset:!1},i),i.direction!=="multi"&&i.direction!==i.wheelDirection&&(i.wheelDirection=i.direction),i.scrollDelta=t.abs(i.scrollDelta),i.wheelDelta=t.abs(i.wheelDelta),e.css({position:"absolute",overflow:"hidden",cursor:i.cursor}),i.reset||(e.removeIPhonePickerOverscroll(),e.data(r.removerKey,r.remover(e)),e.bind(r.events.wheel,r.data,r.wheel).bind(r.events.start,r.data,r.start).bind(r.events.end,r.data,r.stop).bind(r.events.ignored,!1),i.showThumbs&&(r.data.thumbs={},r.data.sizing.container.scrollWidth>0&&i.direction!=="vertical"&&(r.data.thumbs.horizontal=n(r.div).css(r.getThumbCss(r.data.sizing.thumbs.horizontal)).fadeTo(0,0),e.prepend(r.data.thumbs.horizontal)),r.data.sizing.container.scrollHeight>0&&i.direction!=="horizontal"&&(r.data.thumbs.vertical=n(r.div).css(r.getThumbCss(r.data.sizing.thumbs.vertical)).fadeTo(0,0),e.prepend(r.data.thumbs.vertical)))),r.data.target=e,r.data.options=i,i.selectedIndex>0&&r.scrollToIndex(r.data,i.selectedIndex,!0)},remover:function(e){return function(){e.css({overflow:"auto",cursor:"default"}).unbind(r.events.wheel,r.wheel).unbind(r.events.start,r.data,r.start).unbind(r.events.end,r.data,r.stop).unbind(r.events.ignored,!1).unbind(r.events.click,r.data,r.click),r.data.thumbs&&(r.data.thumbs.horizontal&&r.data.thumbs.horizontal.remove(),r.data.thumbs.vertical&&r.data.thumbs.vertical.remove())}},triggerEvent:function(e){r.data.target.trigger("overscroll:"+e)},toggleThumbs:function(e,t){if(e.thumbs)if(t)e.thumbs.vertical&&e.thumbs.vertical.stop(!0,!0).fadeTo("fast",r.constants.thumbOpacity),e.thumbs.horizontal&&e.thumbs.horizontal.stop(!0,!0).fadeTo("fast",r.constants.thumbOpacity);else{e.thumbs.vertical&&e.thumbs.vertical.fadeTo("fast",0),e.thumbs.horizontal&&e.thumbs.horizontal.fadeTo("fast",0);var n=r.selectedIndex(e.target[0]);r.scrollToIndex(e,n)}},scrollToIndex:function(e,i,s){if(i=="undefined"||i===null)i=e.options.selectedIndex;var u=t.round(i*ITEM_OFFSET);n(e.target[0]).scrollTo(u),!s&&!e.options.reset&&r.setValue(e)},setValue:function(e){e===null&&(e=r.data);var t=e.options.reset?e.options.selectedIndex:r.selectedIndex(e.target[0]);n("select#"+e.options.parentId+" option:selected").removeAttr("selected"),n("select#"+e.options.parentId+" option").eq(t).attr("selected","selected"),e.options.reset||n("#"+e.options.parentId).trigger(jQuery.Event("change"))},selectedIndex:function(e){var t=Math.round(e.scrollTop/ITEM_OFFSET);return t},setPosition:function(e,t,n){return t.x=e.originalEvent.pageX,t.y=e.originalEvent.pageY,t.time=r.time(),t.index=n,t},wheel:function(t,n){r.clearInterval(t.data.target),t.originalEvent.wheelDelta&&(n=t.originalEvent.wheelDelta/(e.opera?-120:120)),t.originalEvent.detail&&(n=-t.originalEvent.detail/3),t.data.wheelCapture||(t.data.wheelCapture={timeout:null},r.toggleThumbs(t.data,!0),t.data.target.stop(!0,!0).data("dragging",!0)),n*=t.data.options.wheelDelta,t.data.options.wheelDirection==="horizontal"?this.scrollLeft-=n:this.scrollTop-=n,r.moveThumbs(t,this.scrollLeft,this.scrollTop),t.data.wheelCapture.timeout&&clearTimeout(t.data.wheelCapture.timeout),t.data.wheelCapture.timeout=setTimeout(function(e){t.data.wheelCapture=undefined,r.toggleThumbs(t.data,!1),t.data.target.data("dragging",!1)},r.constants.timeout),t||(t=window.event),t.preventDefault&&t.preventDefault(),t.returnValue=!1,r.setValue(t.data)},moveThumbs:function(e,t,n,r,i,s,o){e.data.options.showThumbs&&(r=e.data.thumbs,i=e.data.sizing,r.horizontal&&(s=t*(1+i.container.width/i.container.scrollWidth),o=n+i.thumbs.horizontal.top,r.horizontal.css("margin",o+"px 0 0 "+s+"px")),r.vertical&&(s=t+i.thumbs.vertical.left,o=n*(1+i.container.height/i.container.scrollHeight),r.vertical.css("margin",o+"px 0 0 "+s+"px")))},click:function(e,t){r.clearInterval(e.data.target);var i=e.originalEvent.pageY-n(t).offset().top;if(i<60||i>105){var s=i<60,u=r.selectedIndex(e.data.target[0]);if(s&&u>0||!s&&u<e.data.options.itemCount-1){var a=s?u-1:u+1;e.data.position=r.setPosition(e,{}),e.data.capture=r.setPosition(e,{},2),e.data.capture.y+=s?-6:8,r.drift(t,e,function(t){t.target.data("dragging",!1),r.toggleThumbs(t,!1),r.scrollToIndex(e.data,a)})}}},start:function(e){r.clearInterval(e.data.target),e.data.startTarget=n(e.target),e.data.startTarget.is(e.data.options.cancelOn)||(r.normalizeEvent(e),e.data.target.bind(r.events.drag,e.data,r.drag).stop(!0,!0).data("dragging",!1).data("dragged",!1),e.data.position=r.setPosition(e,{}),e.data.capture=r.setPosition(e,{},2),r.triggerEvent("dragstart",e.data))},drag:function(e,t,n,i,s){r.normalizeEvent(e),e.data.target.data("dragged",!0),e.data.target.data("dragging")||r.toggleThumbs(e.data,!0),e.data.options.direction!=="vertical"&&(this.scrollLeft-=e.originalEvent.pageX-e.data.position.x),e.data.options.direction!=="horizontal"&&(this.scrollTop-=e.originalEvent.pageY-e.data.position.y),r.moveThumbs(e,this.scrollLeft,this.scrollTop),r.setPosition(e,e.data.position),--e.data.capture.index<=0&&(e.data.target.data("dragging",!0),r.setPosition(e,e.data.capture,r.constants.captureThreshold))},normalizeEvent:function(e){if(r.checkIosDevice()){var t=e.originalEvent.changedTouches[0];e.originalEvent.pageX=t.pageX,e.originalEvent.pageY=t.pageY}},time:function(){return(new Date).getTime()},deferClick:function(e){var t=e.data("events");t&&t.click&&t.click.length&&(t=t.click.slice(),e.unbind("click").one("click",function(r){r.preventDefault(),n.each(t,function(t,n){e.click(n)})}))},stop:function(e,t,i,s){e.data.position&&(e.data.target.unbind(r.events.drag,r.drag),r.triggerEvent("dragend",e.data),e.data.target.data("dragging")?r.drift(this,e,function(t){t.target.data("dragging",!1),r.toggleThumbs(t,!1);var n=r.selectedIndex(e.data.target[0]);r.scrollToIndex(e.data,n)}):e.data.target.data("dragged")?r.toggleThumbs(e.data,!1):r.click(e,this),e.data.target.data("dragged")&&n(e.target).is(e.data.startTarget)&&(e.data.target.data("dragged",!1),r.deferClick(e.data.startTarget),e.data.startTarget=null),e.data.capture=e.data.position=undefined)},clearInterval:function(t){t=n(t);var r=t.data("overscroll-interval");r&&e.clearInterval(r),t.data("overscroll-interval",null)},setInterval:function(e,t){r.clearInterval(e),n(e).data("overscroll-interval",t)},drift:function(t,n,i){if(r.time()-n.data.capture.time>r.constants.driftTimeout)return i.call(null,n.data);r.normalizeEvent(n);var s=n.data.options.scrollDelta*(n.originalEvent.pageX-n.data.capture.x),u=n.data.options.scrollDelta*(n.originalEvent.pageY-n.data.capture.y),a=t.scrollLeft,f=t.scrollTop,l=s/r.constants.driftSequences,c=u/r.constants.driftSequences,h=r.constants.driftDecay;n.data.options.direction!=="vertical"&&(a-=s),n.data.options.direction!=="horizontal"&&(f-=u),r.triggerEvent("driftstart",n.data),r.setInterval(t,e.setInterval(function(){var e=!0,s=1,u=-1;if(c>s&&t.scrollTop>f||c<u&&t.scrollTop<f)e=!1,t.scrollTop-=c,c/=h;if(l>s&&t.scrollLeft>a||l<u&&t.scrollLeft<a)e=!1,t.scrollLeft-=l,l/=h;r.moveThumbs(n,t.scrollLeft,t.scrollTop),e&&(r.clearInterval(t),r.triggerEvent("driftend",n.data),i.call(null,n.data))},r.constants.driftFrequency))},getSizing:function(e){var t={},n=e.get(0);return t.container={width:e.width(),height:e.height()},t.container.scrollWidth=n.scrollWidth==t.container.width?0:n.scrollWidth,t.container.scrollHeight=n.scrollHeight==t.container.height?0:n.scrollHeight,t.thumbs={horizontal:{width:t.container.width*t.container.width/t.container.scrollWidth,height:r.constants.thumbThickness,corner:r.constants.thumbThickness/2,left:0,top:t.container.height-r.constants.thumbThickness},vertical:{width:r.constants.thumbThickness,height:t.container.height*t.container.height/t.container.scrollHeight,corner:r.constants.thumbThickness/2,left:t.container.width-r.constants.thumbThickness,top:0}},t},getThumbCss:function(e){return{position:"absolute","background-color":"black",width:e.width+"px",height:e.height+"px",margin:e.top+"px 0 0 "+e.left+"px","-moz-border-radius":e.corner+"px","-webkit-border-radius":e.corner+"px","border-radius":e.corner+"px","z-index":"1"}}})}(window,Math,jQuery),function(e){"use strict";function n(e){return typeof e=="object"?e:{top:e,left:e}}var t=e.scrollTo=function(t,n,r){e(window).scrollTo(t,n,r)};t.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1},t.window=function(t){return e(window)._scrollable()},e.fn._scrollable=function(){return this.map(function(){var t=this,n=!t.nodeName||e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!n)return t;var r=(t.contentWindow||t).document||t.ownerDocument||t;return e.browser.safari||r.compatMode=="BackCompat"?r.body:r.documentElement})},e.fn.scrollTo=function(r,i,s){return typeof i=="object"&&(s=i,i=0),typeof s=="function"&&(s={onAfter:s}),r=="max"&&(r=9e9),s=e.extend({},t.defaults,s),i=i||s.speed||s.duration,s.queue=s.queue&&s.axis.length>1,s.queue&&(i/=2),s.offset=n(s.offset),s.over=n(s.over),this._scrollable().each(function(){function h(e){u.animate(l,i,s.easing,e&&function(){e.call(this,r,s)})}var o=this,u=e(o),a=r,f,l={},c=u.is("html,body");switch(typeof a){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(a)){a=n(a);break}a=e(a,this);case"object":if(a.is||a.style)f=(a=e(a)).offset()}e.each(s.axis.split(""),function(e,n){var r=n=="x"?"Left":"Top",i=r.toLowerCase(),p="scroll"+r,d=o[p],v=t.max(o,n);if(f)l[p]=f[i]+(c?0:d-u.offset()[i]),s.margin&&(l[p]-=parseInt(a.css("margin"+r))||0,l[p]-=parseInt(a.css("border"+r+"Width"))||0),l[p]+=s.offset[i]||0,s.over[i]&&(l[p]+=a[n=="x"?"width":"height"]()*s.over[i]);else{var m=a[i];l[p]=m.slice&&m.slice(-1)=="%"?parseFloat(m)/100*v:m}/^\d+$/.test(l[p])&&(l[p]=l[p]<=0?0:Math.min(l[p],v)),!e&&s.queue&&(d!=l[p]&&h(s.onAfterFirst),delete l[p])}),h(s.onAfter)}).end()},t.max=function(t,n){var r=n=="x"?"Width":"Height",i="scroll"+r;if(!e(t).is("html,body"))return t[i]-e(t)[r.toLowerCase()]();var s="client"+r,o=t.ownerDocument.documentElement,u=t.ownerDocument.body;return Math.max(o[i],u[i])-Math.min(o[s],u[s])}}(jQuery)